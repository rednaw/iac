# Dashboard on https://traefik.{{ base_domain }} with basic auth
http:
  routers:
    dashboard:
      rule: "Host(`traefik.{{ base_domain }}`)"
      entryPoints:
        - websecure
      tls:
        certResolver: letsencrypt
      service: api@internal
      middlewares:
        - dashboard-headers
        - dashboard-auth

  middlewares:
    dashboard-headers:
      headers:
        customResponseHeaders:
          X-Frame-Options: "DENY"
          Referrer-Policy: "strict-origin-when-cross-origin"
          Strict-Transport-Security: "max-age=31536000; includeSubDomains"
          X-Content-Type-Options: "nosniff"
    dashboard-auth:
      basicAuth:
        usersFile: /etc/traefik/auth/htpasswd
